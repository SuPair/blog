<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8"/>
    <title>Ruby on Rails 教程 - 博客</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Ruby on Rails 教程的最新消息"/>
    <meta name="keywords" content="ruby, rails, tutorial, news, blog"/>
    <meta name="author" content="安道"/>
    <script src="http://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://cdn.staticfile.org/twitter-bootstrap/3.2.0/js/dropdown.min.js"></script>
    <script src="http://cdn.staticfile.org/twitter-bootstrap/3.2.0/js/collapse.min.js"></script>
    <link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.2.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="http://cdn.staticfile.org/font-awesome/4.2.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="http://railstutorial-china.org/blog/assets/style.css"/>
</head>
<body class="blog">

<header class="navbar navbar-default navbar-fixed-top navbar-book">
    <div class="container">
        <div class="navbar-header">
            <a href="http://railstutorial-china.org/" class="navbar-brand">Ruby on Rails 教程</a>
            <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".book-navbar-collapse">
                <span class="sr-only">导航</span>
                <i class="fa fa-bars"></i>
            </button>
            <a href="#purchase" class="btn btn-warning navbar-btn visible-xs collapsed-purchase-btn">购买</a>
        </div>
        <nav class="collapse navbar-collapse book-navbar-collapse">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://railstutorial-china.org" title="首页">首页</a></li>
                <li><a href="http://railstutorial-china.org/read/" title="在线阅读">阅读</a></li>
                <li class="active"><a href="http://railstutorial-china.org/blog/">博客</a></li>
                <li><a href="https://selfstore.io/products/189/topics">论坛</a></li>
                <li class="hidden-xs"><div><a href="http://railstutorial-china.org/#purchase" class="btn btn-warning navbar-btn" title="购买电子书">购买</a></div></li>
            </ul>
        </nav>
    </div>
</header>


<div class="content">
    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8">
                <div class="post">

    <header class="post-header">
        <h1>关于 Heroku Cedar-14 的说明</h1>
        <p class="post-meta">2014年11月05日</p>
    </header>

    <article class="post-content">
        <p>Heroku 于近日<a href="https://blog.heroku.com/archives/2014/11/4/cedar_14_now_generally_available">升级了低层组件</a>，如果你使用 <a href="http://c9.io/">Cloud9</a> 可能会受到影响。当然，如果你在自己的设备中开发也可能有影响。如果部署到 Heroku 时遇到以下错误，请按照本文的方法升级 Ruby 到 2.1.4 版。</p>

<pre><code>local/Cloud9 =&gt; Your Ruby version is 2.1.1, but your Gemfile specified 2.1.4

Heroku =&gt; Only the most recent version of Ruby 2.1 is supported on Cedar-14
</code></pre>

<p>为了本书读者着想，原版作者 Michael 已经联系 Cloud9，希望能把 Rails 教程使用的工作空间默认使用的 Ruby 升级到 2.1.4。在 Cloud9 升级之前，你可以自行升级。Cloud9 使用 <a href="http://rvm.io/">rvm</a> 管理 Ruby，所以可以在 Cloud9 的命令行中执行下面的命令升级 Ruby：</p>

<pre><code>$ rvm install 2.1.4
$ rvm use 2.1.4
</code></pre>

<p>如果编译 Ruby 的时间过长（超过 20 分钟），请换用下面的命令（<a href="http://stackoverflow.com/questions/26069506/ruby-2-1-3-installation-in-ubuntu-14-04-1-hang/26151026#26151026">via</a>）：</p>

<pre><code>$ rvm install 2.1.4 -- --with-setjmp-type=setjmp
</code></pre>

<p>然后把 <code>Gemfile</code> 中的 Ruby 版本改为 <code>2.1.4</code>，再重新部署：</p>

<pre><code>$ git commit -am "Update Ruby version"
$ git push heroku
</code></pre>

<p>如果你在本地设备中使用 <code>rbenv</code>，可以使用下列命令升级 Ruby：</p>

<pre><code>$ cd ~/.rbenv/plugins/ruby-build/
$ git pull
$ rbenv install 2.1.4
</code></pre>

<p>同样，如果编译时间过长，请换用下面的命令安装：</p>

<pre><code>$ RUBY_CONFIGURE_OPTS="--with-setjmp-type=setjmp" rbenv install 2.1.4
</code></pre>

<p>（本文编译自 <a href="http://news.railstutorial.org/heroku-update/">Rails Tutorial 的博客</a>。）</p>

    </article>

</div>

            </div>
        </div>
    </div>
</div>

<footer class="footer">
    <p>&copy;2013-2014 <a href="http://about.ac" title="安道的网站">安道</a></p>
    <p class="sns"><a href="https://twitter.com/andor_chen" title="安道的 Twitter"><i class="fa fa-twitter"></i></a> <a href="http://weibo.com/andor27" title="安道的微博"><i class="fa fa-weibo"></i></a></p>
    <p>保留部分权利</p>
</footer>

</body>
</html>

